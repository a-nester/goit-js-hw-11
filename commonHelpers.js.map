{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '43256839-6988dc73e83ff3bdf7562f6e8';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function createFetch(searchWorld) {\n    const param = new URLSearchParams({\n    key: API_KEY,\n    q: searchWorld,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true\n})\n    return fetch(`${BASE_URL}?${param}`)\n}\n","export function createMarkup(arr) {\n  return arr\n    .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n      return `\n        <li class=\"gallery-item\" >\n        <a class=\"gallery-link\" href=${largeImageURL}>\n          <img class=\"gallery-image\"\n          src=\"${webformatURL}\" \n          data-source=\"${largeImageURL}\" \n          alt=\"${tags}\" />\n          \n        </a>\n        <div class=\"data-box\">\n            <div>\n                <p class=\"item-box-bolt\">Likes</p>\n                <p class=\"item-box\">${likes}</p>\n            </div>\n            <div>\n                <p class=\"item-box-bolt\">Views</p>\n                <p class=\"item-box\">${views}</p>\n            </div>\n            <div>\n                <p class=\"item-box-bolt\">Comments</p>\n                <p class=\"item-box\">${comments}</p>\n            </div>\n            <div>\n                <p class=\"item-box-bolt\">Downloads</p>\n                <p class=\"item-box\">${downloads}</p>\n            </div>\n        </div>\n      </li>\n    `;\n    })\n    .join('');\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { createFetch } from \"./js/pixabay-api\";\nimport { createMarkup } from \"./js/render-functions\";\n\nconst searchForm = document.querySelector(\".search-form\");\nconst galleryList = document.querySelector(\".gallery\")\nconst loader = document.querySelector(\".loader\")\n\nsearchForm.addEventListener(\"submit\", handleClick);\n\nfunction handleClick(event) {\n    event.preventDefault();\n    loader.classList.toggle('isHiden');\n    \n    let searchValue = searchForm.elements[0].value.trim();\n    if (!searchValue) {\n        loaderToggle();\n        return iziToast.error({\n            position: \"topRight\",\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n        });\n    }\n    createFetch(searchValue)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status)\n            }\n            return response.json()\n        })\n        .then(data => {\n            if (data.hits.length === 0) {\n                return iziToast.error({\n                    position: \"topRight\",\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                });\n            }\n            let gallery = new SimpleLightbox('.gallery a', {\n                captionsData: \"alt\",\n                captionDelay: 250,\n                captionClass: 'text-center'\n            });\n            \n            galleryList.innerHTML = createMarkup(data.hits);\n            gallery.refresh();\n            \n        })\n        .catch(err => iziToast.error({\n                    position: \"topRight\",\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                }))\n        .finally(() => {\n            searchForm.elements[0].value = \"\";\n            loaderToggle();\n        })\n}\n\nfunction loaderToggle() {\n    loader.classList.toggle('isHiden');\n}\n\n\n"],"names":["API_KEY","BASE_URL","createFetch","searchWorld","param","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","galleryList","loader","handleClick","event","searchValue","loaderToggle","iziToast","response","data","gallery","SimpleLightbox","err"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAa,CACrC,MAAMC,EAAQ,IAAI,gBAAgB,CAClC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAC,EACG,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAK,EAAE,CACvC,CCZO,SAASC,EAAaC,EAAK,CAChC,OAAOA,EACJ,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAC1D;AAAA;AAAA,uCAE0BL,CAAa;AAAA;AAAA,iBAEnCD,CAAY;AAAA,yBACJC,CAAa;AAAA,iBACrBC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAMiBC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAK1C,EACA,KAAK,EAAE,CACZ,CC3BA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAW,iBAAiB,SAAUG,CAAW,EAEjD,SAASA,EAAYC,EAAO,CACxBA,EAAM,eAAc,EACpBF,EAAO,UAAU,OAAO,SAAS,EAEjC,IAAIG,EAAcL,EAAW,SAAS,CAAC,EAAE,MAAM,OAC/C,GAAI,CAACK,EACD,OAAAC,IACOC,EAAS,MAAM,CAClB,SAAU,WACV,QAAS,0EACrB,CAAS,EAELnB,EAAYiB,CAAW,EAClB,KAAKG,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,KAAM,CAClC,CAAS,EACA,KAAKC,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACrB,OAAOF,EAAS,MAAM,CAClB,SAAU,WACV,QAAS,0EAC7B,CAAiB,EAEL,IAAIG,EAAU,IAAIC,EAAe,aAAc,CAC3C,aAAc,MACd,aAAc,IACd,aAAc,aAC9B,CAAa,EAEDV,EAAY,UAAYV,EAAakB,EAAK,IAAI,EAC9CC,EAAQ,QAAO,CAE3B,CAAS,EACA,MAAME,GAAOL,EAAS,MAAM,CACjB,SAAU,WACV,QAAS,0EAC7B,CAAiB,CAAC,EACT,QAAQ,IAAM,CACXP,EAAW,SAAS,CAAC,EAAE,MAAQ,GAC/BM,GACZ,CAAS,CACT,CAEA,SAASA,GAAe,CACpBJ,EAAO,UAAU,OAAO,SAAS,CACrC"}